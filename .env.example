# =============================================================================
# ðŸ“¨ SERVICE DE NOTIFICATION SUPERVIA - CONFIGURATION D'EXEMPLE
# =============================================================================
# Ce fichier sert de modÃ¨le pour votre propre fichier .env.
# Copiez ce fichier en .env et remplacez les valeurs ci-dessous.
# NE JAMAIS COMMITER VOTRE FICHIER .env DANS LE DÃ‰PÃ”T GIT.

# =============================================
# ðŸ“¡ CONFIGURATION SERVEUR
# =============================================
# Environnement d'exÃ©cution : 'development', 'production', ou 'test'
NODE_ENV=development
# Port sur lequel le service Ã©coutera
PORT=3005
# Version de l'API (utilisÃ©e dans les prÃ©fixes de route)
API_VERSION=v1
# URL publique du service, utilisÃ©e pour gÃ©nÃ©rer des liens absolus si nÃ©cessaire
API_URL=http://localhost:3005

# =============================================
# ðŸ”‘ SÃ‰CURITÃ‰ & AUTHENTIFICATION INTER-SERVICES
# =============================================
# SECRET JWT PARTAGÃ‰ - CRITIQUE
# Ce secret DOIT Ãªtre identique sur TOUS les microservices de l'Ã©cosystÃ¨me.
# Utilisez une chaÃ®ne de caractÃ¨res longue et cryptographiquement alÃ©atoire.
# Commande pour en gÃ©nÃ©rer une : node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=votre_secret_jwt_partage_long_et_aleatoire_ici

# Liste des services autorisÃ©s Ã  appeler ce service (sÃ©parÃ©s par des virgules)
# L'ID du service est extrait du champ 'serviceId' ou 'iss' du payload JWT.
ALLOWED_SERVICES=auth-service,metrics-service,payment-service

# =============================================
# ðŸŒ URLS & CORS
# =============================================
# Origines autorisÃ©es Ã  se connecter via requÃªtes HTTP et WebSockets.
# SÃ©parez les URLs par des virgules. Incluez votre frontend et d'autres outils comme Grafana si besoin.
CORS_ORIGINS=http://localhost:3000,http://localhost:4000

# =============================================
# âœ‰ï¸ CONFIGURATION E-MAIL (NODEMAILER)
# =============================================
# Pour le dÃ©veloppement, Mailtrap.io est une excellente option gratuite.
# Pour la production, utilisez les identifiants de votre fournisseur (SendGrid, Mailgun, etc.)
SMTP_HOST=sandbox.smtp.mailtrap.io
SMTP_PORT=2525
SMTP_SECURE=false # 'true' pour le port 465 (SSL), 'false' pour le 587 (TLS) ou le 2525
SMTP_USER=votre_utilisateur_smtp # Ex: de Mailtrap
SMTP_PASS=votre_mot_de_passe_smtp # Ex: de Mailtrap
SMTP_FROM_NAME="SupervIA Platform"
SMTP_FROM_EMAIL=noreply@supervia.com

# =============================================
# ðŸ”¥ CONFIGURATION FIREBASE (POUR NOTIFICATIONS PUSH)
# =============================================
# Contenu JSON de votre clÃ© de compte de service Firebase.
# 1. Allez dans votre console Firebase -> ParamÃ¨tres du projet -> Comptes de service.
# 2. Cliquez sur "GÃ©nÃ©rer une nouvelle clÃ© privÃ©e". Un fichier JSON est tÃ©lÃ©chargÃ©.
# 3. Copiez TOUT le contenu du fichier JSON et collez-le ici, entre les guillemets simples.
# IMPORTANT: Le JSON doit Ãªtre sur une seule ligne ou correctement Ã©chappÃ© si sur plusieurs lignes.
# Si vous le laissez vide, le service de push sera dÃ©sactivÃ©.
FIREBASE_SERVICE_ACCOUNT_JSON='{"type": "service_account", "project_id": "votre-project-id", "private_key_id": "...", "private_key": "-----BEGIN PRIVATE KEY-----\\n...\\n-----END PRIVATE KEY-----\\n", "client_email": "...", "client_id": "...", "auth_uri": "...", "token_uri": "...", "auth_provider_x509_cert_url": "...", "client_x509_cert_url": "..."}'

# =============================================
# ðŸ”Œ CONFIGURATION REDIS (POUR L'ADAPTATEUR SOCKET.IO)
# =============================================
# Requis si vous prÃ©voyez de scaler le service de notification sur plusieurs instances.
# L'adaptateur Redis permet de synchroniser les Ã©vÃ©nements WebSocket entre les instances.
# Pour le dÃ©veloppement local avec le docker-compose global, l'URL est typiquement le nom du service redis.
REDIS_URL=redis://supervia-redis:6379

# =============================================
# ðŸ”§ DÃ‰VELOPPEMENT & LOGS
# =============================================
# Niveau de log ('fatal', 'error', 'warn', 'info', 'debug', 'trace')
LOG_LEVEL=debug
# Activer ou dÃ©sactiver le endpoint de documentation Swagger UI (/api-docs)
ENABLE_SWAGGER=true

# ==============================================
# ðŸŽ¯ PROCHAINES Ã‰TAPES
# ==============================================
# 1. Remplacer les valeurs d'exemple par votre configuration.
# 2. Configurer JWT_SECRET (doit Ãªtre le mÃªme que dans les autres services).
# 3. Fournir les identifiants SMTP et Firebase.
# 4. Lancer `npm run setup` pour installer les dÃ©pendances. 